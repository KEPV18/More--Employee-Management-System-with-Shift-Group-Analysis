<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>
    <script src="https://unpkg.com/unlazy@0.11.3/dist/unlazy.with-hashing.iife.js" defer init></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="text/javascript">
      window.tailwind.config = {
        darkMode: ['class'],
        theme: {
          extend: {
            colors: {
              primary: '#4A90E2', // لون أزرق هادئ
              secondary: '#50E3C2', // لون أخضر زاهي
              accent: '#F5A623', // لون برتقالي دافئ
              background: '#1F1F1F', // خلفية داكنة
              foreground: '#FFFFFF', // لون نص فاتح
              muted: '#2E2E2E', // لون رمادي داكن
              card: '#2C2C2C', // لون داكن للبطاقات
              border: '#444444', // لون حدود داكن
              input: '#555555', // لون إدخال داكن
              textInput: '#FFFFFF', // لون نص خانة الإدخال
              textWhite: '#FFFFFF', // لون نص أبيض
              success: '#28a745', // لون النجاح
              error: '#dc3545', // لون الخطأ
            },
          }
        }
      }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <style>
      body {
        font-family: 'Poppins', sans-serif;
        line-height: 1.6;
        background-color: #1F1F1F;
        color: #FFFFFF;
      }
      h2, h3 {
        font-family: 'Roboto', sans-serif;
      }
      .button-icon {
        display: flex;
        align-items: center;
      }
      .button-icon i {
        margin-right: 0.5rem;
      }
      .whitespace {
        margin: 2rem 0;
      }
      .sidebar {
        position: fixed;
        top: 0;
        left: 0;
        width: 200px;
        height: 100%;
        background-color: #2C2C2C;
        padding: 1rem;
        display: block;
      }
      .sidebar a {
        color: #FFFFFF;
        text-decoration: none;
        display: block;
        padding: 10px;
        border-radius: 5px;
        transition: background 0.3s;
        margin-bottom: 10px; /* زيادة المسافة بين الروابط */
      }
      .sidebar a:hover {
        background-color: #4A90E2; /* تأثير عند المرور */
      }
      .header {
        background-color: #4A90E2;
        padding: 1rem;
        text-align: center;
        color: #FFFFFF;
        font-size: 1.5rem;
      }
      .header small {
        display: block;
        font-size: 0.8rem;
      }
      .content {
        margin-left: 220px; /* مساحة للشريط الجانبي */
        padding: 20px;
      }
      .table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
      }
      .table th, .table td {
        padding: 10px;
        border: 1px solid #444;
        text-align: left;
      }
      .table th {
        background-color: #2C2C2C;
        color: #FFFFFF;
      }
      .table tr:nth-child(even) {
        background-color: #333333; /* تظليل الصفوف */
      }
      .table tr:hover {
        background-color: #4A90E2; /* تظليل عند المرور */
      }
      @media (max-width: 768px) {
        .sidebar {
          width: 100%;
          height: auto;
          position: relative;
        }
        .content {
          margin-left: 0; /* إزالة المساحة للشريط الجانبي في الشاشات الصغيرة */
        }
      }
    </style>
  </head>
  <body>
    <div class="header">
      More
      <small>by Ahmed Khaled</small>
    </div>
    <div class="sidebar">
      <a href="#employee-search" onclick="showTab('employee-search')">Employee Search</a>
      <a href="#shift-group-analysis" onclick="showTab('shift-group-analysis')">Shift Group Analysis</a>
      <a href="#special-task-section" onclick="showTab('special-task-section')">Special Task Section</a>
      <a href="#reports-visualization" onclick="showTab('reports-visualization')">Reports & Visualization</a>
      <a href="#settings" onclick="showTab('settings')">Settings</a>
    </div>
    <div class="content">
      <div id="employee-search" class="tab-content">
        <h2 class="text-2xl font-bold text-accent mb-4">Employee Search</h2>
        <form class="flex flex-col md:flex-row gap-4" onsubmit="searchEmployee(event)">
          <div class="relative">
            <input type="email" id="employee-email" placeholder="Enter employee email" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent textInput text-black" list="email-suggestions" />
            <i class="fas fa-search absolute left-3 top-2.5 text-gray-400"></i>
            <datalist id="email-suggestions">
              <option value="employee1@example.com">
              <option value="employee2@example.com">
            </datalist>
          </div>
          <select id="date-select" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent bg-gray-200 text-black" onchange="toggleDateInput('employee')">
            <option value="all">All Days</option>
            <option value="specific">Specific Day</option>
          </select>
          <input type="date" id="date-input" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent bg-gray-200 text-black hidden" />
          <input type="date" id="shift-date-input" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent bg-gray-200 text-black hidden" />
          <button type="submit" class="bg-primary text-foreground p-3 rounded-md shadow-lg hover:bg-primary/80 transition duration-200 button-icon">
            <i class="fas fa-search"></i> Search
          </button>
        </form>
        <div id="search-results" class="mt-4 p-4 bg-card rounded-md shadow-md hidden">
          <h3 class="text-lg font-medium text-accent">Shift Details:</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Email</th>
                <th>Name</th>
                <th>Shift Time</th>
                <th>Tasks Completed</th>
                <th>Quality</th>
              </tr>
            </thead>
            <tbody id="results-body">
              <!-- نتائج البحث ستظهر هنا -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div id="shift-group-analysis" class="tab-content hidden">
        <h2 class="text-2xl font-bold text-accent mb-4">Shift Group Analysis</h2>
        <form class="flex flex-col md:flex-row gap-4">
          <select id="shift-select" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent bg-gray-200 text-black">
            <option value="all">All Shifts</option>
            <option value="morning">Morning Shift</option>
            <option value="evening">Evening Shift</option>
          </select>
          <select id="shift-date-select" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent bg-gray-200 text-black" onchange="toggleDateInput('shift')">
            <option value="all">All Days</option>
            <option value="specific">Specific Day</option>
          </select>
          <input type="date" id="shift-date-input-analysis" class="p-2 border border-input rounded-md shadow-md focus:outline-none focus:ring focus:ring-accent bg-gray-200 text-black hidden" />
          <button type="submit" class="bg-primary text-foreground p-3 rounded-md shadow-lg hover:bg-primary/80 transition duration-200 button-icon">
            <i class="fas fa-eye"></i> View Group
          </button>
        </form>
        <div class="mt-4 p-4 bg-card rounded-md shadow-md">
          <h3 class="text-lg font-medium text-accent">Shift Details:</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Email</th>
                <th>Name</th>
                <th>Shift Time</th>
                <th>Tasks Completed</th>
                <th>Quality</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="text-white">jane.doe@example.com</span></td>
                <td><span class="text-white">Jane Doe</span></td>
                <td><span class="text-white">Morning</span></td>
                <td><span class="text-white">10</span></td>
                <td><span class="text-white">90%</span></td>
              </tr>
              <tr>
                <td><span class="text-white">bob.smith@example.com</span></td>
                <td><span class="text-white">Bob Smith</span></td>
                <td><span class="text-white">Evening</span></td>
                <td><span class="text-white">8</span></td>
                <td><span class="text-white">85%</span></td>
              </tr>
            </tbody>
          </table>
          <p>Total Tasks Completed: <span class="text-white">30</span></p>
          <p>Average Quality Percentage: <span class="text-white">90%</span></p>
        </div>
      </div>
      
      <div id="special-task-section" class="tab-content hidden">
        <h2 class="text-2xl font-bold text-accent mb-4">Special Task Section</h2>
        <div class="p-4 bg-card rounded-md shadow-md">
          <h3 class="text-lg font-medium text-accent">Issues:</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Issue</th>
                <th>Task Link</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><span class="text-white">Alice Johnson</span></td>
                <td><span class="text-white">alice.johnson@example.com</span></td>
                <td><span class="text-white">Skipped Task</span></td>
                <td><a href="#" class="text-primary">View Task</a></td>
              </tr>
              <tr>
                <td><span class="text-white">Tom Hanks</span></td>
                <td><span class="text-white">tom.hanks@example.com</span></td>
                <td><span class="text-white">0 Quality in Task</span></td>
                <td><a href="#" class="text-primary">View Task</a></td>
              </tr>
              <!-- يمكنك إضافة المزيد من الصفوف هنا -->
            </tbody>
          </table>
        </div>
      </div>
      
      <div id="reports-visualization" class="tab-content hidden">
        <h2 class="text-2xl font-bold text-accent mb-4">Reports and Visualization</h2>
        <div class="flex flex-col md:flex-row gap-4">
          <button class="bg-secondary text-foreground p-3 rounded-md shadow-lg hover:bg-secondary/80 transition duration-200 button-icon">
            <i class="fas fa-file-excel"></i> Export to Excel
          </button>
          <button class="bg-secondary text-foreground p-3 rounded-md shadow-lg hover:bg-secondary/80 transition duration-200 button-icon">
            <i class="fas fa-file-pdf"></i> Export to PDF
          </button>
        </div>
        <div class="mt-4">
          <h3 class="text-lg font-medium text-accent">Performance Graphs:</h3>
          <div class="bg-muted p-4 rounded-md shadow-md">
            <canvas id="performanceChart" class="w-full h-auto rounded-md shadow-sm"></canvas>
          </div>
        </div>
      </div>

      <!-- Settings Section -->
      <div id="settings" class="tab-content hidden">
        <h2 class="text-2xl font-bold text-accent mb-4">Settings</h2>
        <div class="mb-4">
          <label for="password" class="block text-sm font-medium text-white">Enter Password:</label>
          <input type="password" id="password" class="p-2 border border-input rounded-md shadow-md 
          focus:outline-none focus:ring focus:ring-accent 
          text-black bg-gray-200" />
          <button onclick="checkPassword()" class="bg-primary text-foreground p-2 rounded-md shadow-lg hover:bg-primary/80 transition duration-200 button-icon mt-2">
            Unlock
          </button>
        </div>
        <div id="api-key-section" class="hidden">
          <label for="api-key" class="block text-sm font-medium text-white">API Key:</label>
          <input type="text" id="api-key" class="p-2 border border-input rounded-md shadow-md 
          focus:outline-none focus:ring focus:ring-accent 
          text-black bg-gray-200" placeholder="Enter your API Key" />
          <button onclick="saveApiKey()" class="bg-primary text-foreground p-2 rounded-md shadow-lg hover:bg-primary/80 transition duration-200 button-icon mt-2">
            Save
          </button>
        </div>
      </div>
    </div>

    <script>
      // تعيين التاريخ الافتراضي إلى تاريخ اليوم
      document.addEventListener('DOMContentLoaded', function() {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('date-input').value = today;

        // استرجاع API Key من localStorage إذا كان موجودًا
        const savedApiKey = localStorage.getItem('apiKey');
        if (savedApiKey) {
          document.getElementById('api-key').value = savedApiKey;
        }

        // بيانات الشيفتات
        const shiftData = [
          { shift: 'Morning', quality: 90, tasks: 15 },
          { shift: 'Evening', quality: 85, tasks: 11 },
          { shift: 'Night', quality: 80, tasks: 9 }
        ];

        // إعداد الرسم البياني
        const ctx = document.getElementById('performanceChart').getContext('2d');
        const performanceChart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: shiftData.map(data => data.shift),
            datasets: [
              {
                label: 'Quality',
                data: shiftData.map(data => data.quality),
                backgroundColor: 'rgba(75, 192, 192, 0.2)',
                borderColor: 'rgba(75, 192, 192, 1)',
                borderWidth: 1
              },
              {
                label: 'Tasks Completed',
                data: shiftData.map(data => data.tasks),
                backgroundColor: 'rgba(153, 102, 255, 0.2)',
                borderColor: 'rgba(153, 102, 255, 1)',
                borderWidth: 1
              }
            ]
          },
          options: {
            scales: {
              y: {
                beginAtZero: true
              }
            }
          }
        });
      });

      function showTab(tabId) {
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.add('hidden');
        });
        document.getElementById(tabId).classList.remove('hidden');
      }

      function toggleDateInput(section) {
        const dateSelect = section === 'employee' ? document.getElementById('date-select') : document.getElementById('shift-date-select');
        const dateInput = section === 'employee' ? document.getElementById('date-input') : document.getElementById('shift-date-input-analysis');

        if (dateSelect.value === 'specific') {
            dateInput.classList.remove('hidden'); // إظهار خانة الإدخال
        } else {
            dateInput.classList.add('hidden'); // إخفاء خانة الإدخال
        }
      }

      function checkPassword() {
        const password = document.getElementById('password').value;
        const apiKeySection = document.getElementById('api-key-section');
        if (password === '12345') {
          apiKeySection.classList.remove('hidden');
        } else {
          alert('Incorrect password. Please try again.');
        }
      }

      function saveApiKey() {
        const apiKey = document.getElementById('api-key').value;
        localStorage.setItem('apiKey', apiKey);
        alert('API Key saved successfully!');
      }

      function searchEmployee(event) {
        event.preventDefault(); // منع إعادة تحميل الصفحة
        const email = document.getElementById('employee-email').value;
        const date = document.getElementById('date-input').value;

        // هنا يمكنك إضافة منطق البحث عن الموظف بناءً على البريد الإلكتروني والتاريخ
        // سأقوم بإضافة بيانات افتراضية كمثال
        const employeeData = [
          {
            email: 'jane.doe@example.com',
            name: 'Jane Doe',
            shiftTime: 'Morning',
            tasks: [
              { completed: 10, quality: 90, link: '#' },
              { completed: 5, quality: 70, link: '#' }
            ]
          },
          {
            email: 'bob.smith@example.com',
            name: 'Bob Smith',
            shiftTime: 'Evening',
            tasks: [
              { completed: 8, quality: 85, link: '#' },
              { completed: 3, quality: 60, link: '#' }
            ]
          }
        ];

        const resultsBody = document.getElementById('results-body');
        resultsBody.innerHTML = ''; // مسح النتائج السابقة

        const employee = employeeData.find(emp => emp.email === email); // البحث عن الموظف
        if (employee) {
          employee.tasks.forEach(task => {
            const row = document.createElement('tr');
            row.style.backgroundColor = task.quality < 75 ? 'red' : 'green'; // تغيير لون الصف
            row.innerHTML = `
              <td><span class="text-white">${employee.email}</span></td>
              <td><span class="text-white">${employee.name}</span></td>
              <td><span class="text-white">${employee.shiftTime}</span></td>
              <td><span class="text-white">${task.completed}</span></td>
              <td><span class="text-white">${task.quality}%</span></td>
            `;
            resultsBody.appendChild(row);
          });
          document.getElementById('search-results').classList.remove('hidden'); // إظهار نتائج البحث
        } else {
          alert('Employee not found.');
        }
      }
    </script>
  </body>
</html>